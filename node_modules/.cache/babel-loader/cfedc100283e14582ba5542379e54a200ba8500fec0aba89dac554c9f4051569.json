{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HTMLParser = void 0;\nconst htmlparser2_1 = require(\"htmlparser2\");\nconst tl_1 = require(\"../tl\");\nconst index_1 = require(\"../index\");\nclass HTMLToTelegramParser {\n  constructor() {\n    this.text = \"\";\n    this.entities = [];\n    this._buildingEntities = new Map();\n    this._openTags = [];\n    this._openTagsMeta = [];\n  }\n  onopentag(name, attributes) {\n    /*\r\n     * This fires when a new tag is opened.\r\n     *\r\n     * If you don't need an aggregated `attributes` object,\r\n     * have a look at the `onopentagname` and `onattribute` events.\r\n     */\n    this._openTags.unshift(name);\n    this._openTagsMeta.unshift(undefined);\n    let EntityType;\n    const args = {};\n    if (name == \"strong\" || name == \"b\") {\n      EntityType = tl_1.Api.MessageEntityBold;\n    } else if (name == \"spoiler\") {\n      EntityType = tl_1.Api.MessageEntitySpoiler;\n    } else if (name == \"em\" || name == \"i\") {\n      EntityType = tl_1.Api.MessageEntityItalic;\n    } else if (name == \"u\") {\n      EntityType = tl_1.Api.MessageEntityUnderline;\n    } else if (name == \"del\" || name == \"s\") {\n      EntityType = tl_1.Api.MessageEntityStrike;\n    } else if (name == \"blockquote\") {\n      EntityType = tl_1.Api.MessageEntityBlockquote;\n    } else if (name == \"code\") {\n      const pre = this._buildingEntities.get(\"pre\");\n      if (pre && pre instanceof tl_1.Api.MessageEntityPre) {\n        try {\n          pre.language = attributes.class.slice(\"language-\".length, attributes.class.length);\n        } catch (e) {\n          // no language block\n        }\n      } else {\n        EntityType = tl_1.Api.MessageEntityCode;\n      }\n    } else if (name == \"pre\") {\n      EntityType = tl_1.Api.MessageEntityPre;\n      args[\"language\"] = \"\";\n    } else if (name == \"a\") {\n      let url = attributes.href;\n      if (!url) {\n        return;\n      }\n      if (url.startsWith(\"mailto:\")) {\n        url = url.slice(\"mailto:\".length, url.length);\n        EntityType = tl_1.Api.MessageEntityEmail;\n      } else {\n        EntityType = tl_1.Api.MessageEntityTextUrl;\n        args[\"url\"] = url;\n        url = undefined;\n      }\n      this._openTagsMeta.shift();\n      this._openTagsMeta.unshift(url);\n    } else if (name == \"tg-emoji\") {\n      EntityType = tl_1.Api.MessageEntityCustomEmoji;\n      args[\"documentId\"] = attributes[\"emoji-id\"];\n    }\n    if (EntityType && !this._buildingEntities.has(name)) {\n      this._buildingEntities.set(name, new EntityType(Object.assign({\n        offset: this.text.length,\n        length: 0\n      }, args)));\n    }\n  }\n  ontext(text) {\n    const previousTag = this._openTags.length > 0 ? this._openTags[0] : \"\";\n    if (previousTag == \"a\") {\n      const url = this._openTagsMeta[0];\n      if (url) {\n        text = url;\n      }\n    }\n    for (let [tag, entity] of this._buildingEntities) {\n      entity.length += text.length;\n    }\n    this.text += text;\n  }\n  onclosetag(tagname) {\n    this._openTagsMeta.shift();\n    this._openTags.shift();\n    const entity = this._buildingEntities.get(tagname);\n    if (entity) {\n      this._buildingEntities.delete(tagname);\n      this.entities.push(entity);\n    }\n  }\n  onattribute(name, value, quote) {}\n  oncdataend() {}\n  oncdatastart() {}\n  oncomment(data) {}\n  oncommentend() {}\n  onend() {}\n  onerror(error) {}\n  onopentagname(name) {}\n  onparserinit(parser) {}\n  onprocessinginstruction(name, data) {}\n  onreset() {}\n}\nclass HTMLParser {\n  static parse(html) {\n    if (!html) {\n      return [html, []];\n    }\n    const handler = new HTMLToTelegramParser();\n    const parser = new htmlparser2_1.Parser(handler);\n    parser.write(html);\n    parser.end();\n    const text = index_1.helpers.stripText(handler.text, handler.entities);\n    return [text, handler.entities];\n  }\n  static unparse(text, entities, _offset = 0, _length) {\n    if (!text || !entities || !entities.length) {\n      return text;\n    }\n    if (_length == undefined) {\n      _length = text.length;\n    }\n    const html = [];\n    let lastOffset = 0;\n    for (let i = 0; i < entities.length; i++) {\n      const entity = entities[i];\n      if (entity.offset >= _offset + _length) {\n        break;\n      }\n      let relativeOffset = entity.offset - _offset;\n      if (relativeOffset > lastOffset) {\n        html.push(text.slice(lastOffset, relativeOffset));\n      } else if (relativeOffset < lastOffset) {\n        continue;\n      }\n      let skipEntity = false;\n      let length = entity.length;\n      let entityText = this.unparse(text.slice(relativeOffset, relativeOffset + length), entities.slice(i + 1, entities.length), entity.offset, length);\n      if (entity instanceof tl_1.Api.MessageEntityBold) {\n        html.push(`<strong>${entityText}</strong>`);\n      } else if (entity instanceof tl_1.Api.MessageEntitySpoiler) {\n        html.push(`<spoiler>${entityText}</spoiler>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityItalic) {\n        html.push(`<em>${entityText}</em>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityCode) {\n        html.push(`<code>${entityText}</code>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityUnderline) {\n        html.push(`<u>${entityText}</u>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityStrike) {\n        html.push(`<del>${entityText}</del>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityBlockquote) {\n        html.push(`<blockquote>${entityText}</blockquote>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityPre) {\n        if (entity.language) {\n          html.push(`<pre>\n<code class=\"language-${entity.language}\">\n    ${entityText}\n</code>\n</pre>`);\n        } else {\n          html.push(`<pre>${entityText}</pre>`);\n        }\n      } else if (entity instanceof tl_1.Api.MessageEntityEmail) {\n        html.push(`<a href=\"mailto:${entityText}\">${entityText}</a>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityUrl) {\n        html.push(`<a href=\"${entityText}\">${entityText}</a>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityTextUrl) {\n        html.push(`<a href=\"${entity.url}\">${entityText}</a>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityMentionName) {\n        html.push(`<a href=\"tg://user?id=${entity.userId}\">${entityText}</a>`);\n      } else if (entity instanceof tl_1.Api.MessageEntityCustomEmoji) {\n        html.push(`<tg-emoji emoji-id=\"${entity.documentId}\">${entityText}</tg-emoji>`);\n      } else {\n        skipEntity = true;\n      }\n      lastOffset = relativeOffset + (skipEntity ? 0 : length);\n    }\n    html.push(text.slice(lastOffset, text.length));\n    return html.join(\"\");\n  }\n}\nexports.HTMLParser = HTMLParser;","map":{"version":3,"names":["Object","defineProperty","exports","value","HTMLParser","htmlparser2_1","require","tl_1","index_1","HTMLToTelegramParser","constructor","text","entities","_buildingEntities","Map","_openTags","_openTagsMeta","onopentag","name","attributes","unshift","undefined","EntityType","args","Api","MessageEntityBold","MessageEntitySpoiler","MessageEntityItalic","MessageEntityUnderline","MessageEntityStrike","MessageEntityBlockquote","pre","get","MessageEntityPre","language","class","slice","length","e","MessageEntityCode","url","href","startsWith","MessageEntityEmail","MessageEntityTextUrl","shift","MessageEntityCustomEmoji","has","set","assign","offset","ontext","previousTag","tag","entity","onclosetag","tagname","delete","push","onattribute","quote","oncdataend","oncdatastart","oncomment","data","oncommentend","onend","onerror","error","onopentagname","onparserinit","parser","onprocessinginstruction","onreset","parse","html","handler","Parser","write","end","helpers","stripText","unparse","_offset","_length","lastOffset","i","relativeOffset","skipEntity","entityText","MessageEntityUrl","MessageEntityMentionName","userId","documentId","join"],"sources":["C:/Users/Muhammed/Desktop/REACT_JS/dene-gramjs/node_modules/telegram/extensions/html.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HTMLParser = void 0;\r\nconst htmlparser2_1 = require(\"htmlparser2\");\r\nconst tl_1 = require(\"../tl\");\r\nconst index_1 = require(\"../index\");\r\nclass HTMLToTelegramParser {\r\n    constructor() {\r\n        this.text = \"\";\r\n        this.entities = [];\r\n        this._buildingEntities = new Map();\r\n        this._openTags = [];\r\n        this._openTagsMeta = [];\r\n    }\r\n    onopentag(name, attributes) {\r\n        /*\r\n         * This fires when a new tag is opened.\r\n         *\r\n         * If you don't need an aggregated `attributes` object,\r\n         * have a look at the `onopentagname` and `onattribute` events.\r\n         */\r\n        this._openTags.unshift(name);\r\n        this._openTagsMeta.unshift(undefined);\r\n        let EntityType;\r\n        const args = {};\r\n        if (name == \"strong\" || name == \"b\") {\r\n            EntityType = tl_1.Api.MessageEntityBold;\r\n        }\r\n        else if (name == \"spoiler\") {\r\n            EntityType = tl_1.Api.MessageEntitySpoiler;\r\n        }\r\n        else if (name == \"em\" || name == \"i\") {\r\n            EntityType = tl_1.Api.MessageEntityItalic;\r\n        }\r\n        else if (name == \"u\") {\r\n            EntityType = tl_1.Api.MessageEntityUnderline;\r\n        }\r\n        else if (name == \"del\" || name == \"s\") {\r\n            EntityType = tl_1.Api.MessageEntityStrike;\r\n        }\r\n        else if (name == \"blockquote\") {\r\n            EntityType = tl_1.Api.MessageEntityBlockquote;\r\n        }\r\n        else if (name == \"code\") {\r\n            const pre = this._buildingEntities.get(\"pre\");\r\n            if (pre && pre instanceof tl_1.Api.MessageEntityPre) {\r\n                try {\r\n                    pre.language = attributes.class.slice(\"language-\".length, attributes.class.length);\r\n                }\r\n                catch (e) {\r\n                    // no language block\r\n                }\r\n            }\r\n            else {\r\n                EntityType = tl_1.Api.MessageEntityCode;\r\n            }\r\n        }\r\n        else if (name == \"pre\") {\r\n            EntityType = tl_1.Api.MessageEntityPre;\r\n            args[\"language\"] = \"\";\r\n        }\r\n        else if (name == \"a\") {\r\n            let url = attributes.href;\r\n            if (!url) {\r\n                return;\r\n            }\r\n            if (url.startsWith(\"mailto:\")) {\r\n                url = url.slice(\"mailto:\".length, url.length);\r\n                EntityType = tl_1.Api.MessageEntityEmail;\r\n            }\r\n            else {\r\n                EntityType = tl_1.Api.MessageEntityTextUrl;\r\n                args[\"url\"] = url;\r\n                url = undefined;\r\n            }\r\n            this._openTagsMeta.shift();\r\n            this._openTagsMeta.unshift(url);\r\n        }\r\n        else if (name == \"tg-emoji\") {\r\n            EntityType = tl_1.Api.MessageEntityCustomEmoji;\r\n            args[\"documentId\"] = attributes[\"emoji-id\"];\r\n        }\r\n        if (EntityType && !this._buildingEntities.has(name)) {\r\n            this._buildingEntities.set(name, new EntityType(Object.assign({ offset: this.text.length, length: 0 }, args)));\r\n        }\r\n    }\r\n    ontext(text) {\r\n        const previousTag = this._openTags.length > 0 ? this._openTags[0] : \"\";\r\n        if (previousTag == \"a\") {\r\n            const url = this._openTagsMeta[0];\r\n            if (url) {\r\n                text = url;\r\n            }\r\n        }\r\n        for (let [tag, entity] of this._buildingEntities) {\r\n            entity.length += text.length;\r\n        }\r\n        this.text += text;\r\n    }\r\n    onclosetag(tagname) {\r\n        this._openTagsMeta.shift();\r\n        this._openTags.shift();\r\n        const entity = this._buildingEntities.get(tagname);\r\n        if (entity) {\r\n            this._buildingEntities.delete(tagname);\r\n            this.entities.push(entity);\r\n        }\r\n    }\r\n    onattribute(name, value, quote) { }\r\n    oncdataend() { }\r\n    oncdatastart() { }\r\n    oncomment(data) { }\r\n    oncommentend() { }\r\n    onend() { }\r\n    onerror(error) { }\r\n    onopentagname(name) { }\r\n    onparserinit(parser) { }\r\n    onprocessinginstruction(name, data) { }\r\n    onreset() { }\r\n}\r\nclass HTMLParser {\r\n    static parse(html) {\r\n        if (!html) {\r\n            return [html, []];\r\n        }\r\n        const handler = new HTMLToTelegramParser();\r\n        const parser = new htmlparser2_1.Parser(handler);\r\n        parser.write(html);\r\n        parser.end();\r\n        const text = index_1.helpers.stripText(handler.text, handler.entities);\r\n        return [text, handler.entities];\r\n    }\r\n    static unparse(text, entities, _offset = 0, _length) {\r\n        if (!text || !entities || !entities.length) {\r\n            return text;\r\n        }\r\n        if (_length == undefined) {\r\n            _length = text.length;\r\n        }\r\n        const html = [];\r\n        let lastOffset = 0;\r\n        for (let i = 0; i < entities.length; i++) {\r\n            const entity = entities[i];\r\n            if (entity.offset >= _offset + _length) {\r\n                break;\r\n            }\r\n            let relativeOffset = entity.offset - _offset;\r\n            if (relativeOffset > lastOffset) {\r\n                html.push(text.slice(lastOffset, relativeOffset));\r\n            }\r\n            else if (relativeOffset < lastOffset) {\r\n                continue;\r\n            }\r\n            let skipEntity = false;\r\n            let length = entity.length;\r\n            let entityText = this.unparse(text.slice(relativeOffset, relativeOffset + length), entities.slice(i + 1, entities.length), entity.offset, length);\r\n            if (entity instanceof tl_1.Api.MessageEntityBold) {\r\n                html.push(`<strong>${entityText}</strong>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntitySpoiler) {\r\n                html.push(`<spoiler>${entityText}</spoiler>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityItalic) {\r\n                html.push(`<em>${entityText}</em>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityCode) {\r\n                html.push(`<code>${entityText}</code>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityUnderline) {\r\n                html.push(`<u>${entityText}</u>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityStrike) {\r\n                html.push(`<del>${entityText}</del>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityBlockquote) {\r\n                html.push(`<blockquote>${entityText}</blockquote>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityPre) {\r\n                if (entity.language) {\r\n                    html.push(`<pre>\r\n<code class=\"language-${entity.language}\">\r\n    ${entityText}\r\n</code>\r\n</pre>`);\r\n                }\r\n                else {\r\n                    html.push(`<pre>${entityText}</pre>`);\r\n                }\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityEmail) {\r\n                html.push(`<a href=\"mailto:${entityText}\">${entityText}</a>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityUrl) {\r\n                html.push(`<a href=\"${entityText}\">${entityText}</a>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityTextUrl) {\r\n                html.push(`<a href=\"${entity.url}\">${entityText}</a>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityMentionName) {\r\n                html.push(`<a href=\"tg://user?id=${entity.userId}\">${entityText}</a>`);\r\n            }\r\n            else if (entity instanceof tl_1.Api.MessageEntityCustomEmoji) {\r\n                html.push(`<tg-emoji emoji-id=\"${entity.documentId}\">${entityText}</tg-emoji>`);\r\n            }\r\n            else {\r\n                skipEntity = true;\r\n            }\r\n            lastOffset = relativeOffset + (skipEntity ? 0 : length);\r\n        }\r\n        html.push(text.slice(lastOffset, text.length));\r\n        return html.join(\"\");\r\n    }\r\n}\r\nexports.HTMLParser = HTMLParser;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}