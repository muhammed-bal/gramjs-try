{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createHash = exports.pbkdf2Sync = exports.Hash = exports.randomBytes = exports.createCipheriv = exports.createDecipheriv = exports.CTR = exports.Counter = void 0;\nconst buffer_1 = require(\"buffer/\");\nconst aes_1 = __importDefault(require(\"@cryptography/aes\"));\nconst converters_1 = require(\"./converters\");\nconst words_1 = require(\"./words\");\nclass Counter {\n  constructor(initialValue) {\n    this._counter = buffer_1.Buffer.from(initialValue);\n  }\n  increment() {\n    for (let i = 15; i >= 0; i--) {\n      if (this._counter[i] === 255) {\n        this._counter[i] = 0;\n      } else {\n        this._counter[i]++;\n        break;\n      }\n    }\n  }\n}\nexports.Counter = Counter;\nclass CTR {\n  constructor(key, counter) {\n    if (!(counter instanceof Counter)) {\n      counter = new Counter(counter);\n    }\n    this._counter = counter;\n    this._remainingCounter = undefined;\n    this._remainingCounterIndex = 16;\n    this._aes = new aes_1.default((0, words_1.getWords)(key));\n  }\n  update(plainText) {\n    return this.encrypt(plainText);\n  }\n  encrypt(plainText) {\n    const encrypted = buffer_1.Buffer.from(plainText);\n    for (let i = 0; i < encrypted.length; i++) {\n      if (this._remainingCounterIndex === 16) {\n        this._remainingCounter = buffer_1.Buffer.from((0, converters_1.i2ab)(this._aes.encrypt((0, converters_1.ab2i)(this._counter._counter))));\n        this._remainingCounterIndex = 0;\n        this._counter.increment();\n      }\n      if (this._remainingCounter) {\n        encrypted[i] ^= this._remainingCounter[this._remainingCounterIndex++];\n      }\n    }\n    return encrypted;\n  }\n}\nexports.CTR = CTR;\n// endregion\nfunction createDecipheriv(algorithm, key, iv) {\n  if (algorithm.includes(\"ECB\")) {\n    throw new Error(\"Not supported\");\n  } else {\n    return new CTR(key, iv);\n  }\n}\nexports.createDecipheriv = createDecipheriv;\nfunction createCipheriv(algorithm, key, iv) {\n  if (algorithm.includes(\"ECB\")) {\n    throw new Error(\"Not supported\");\n  } else {\n    return new CTR(key, iv);\n  }\n}\nexports.createCipheriv = createCipheriv;\nfunction randomBytes(count) {\n  const bytes = new Uint8Array(count);\n  crypto.getRandomValues(bytes);\n  return bytes;\n}\nexports.randomBytes = randomBytes;\nclass Hash {\n  constructor(algorithm) {\n    this.algorithm = algorithm;\n  }\n  update(data) {\n    //We shouldn't be needing new Uint8Array but it doesn't\n    //work without it\n    this.data = new Uint8Array(data);\n  }\n  async digest() {\n    if (this.data) {\n      if (this.algorithm === \"sha1\") {\n        return buffer_1.Buffer.from(await self.crypto.subtle.digest(\"SHA-1\", this.data));\n      } else if (this.algorithm === \"sha256\") {\n        return buffer_1.Buffer.from(await self.crypto.subtle.digest(\"SHA-256\", this.data));\n      }\n    }\n    return buffer_1.Buffer.alloc(0);\n  }\n}\nexports.Hash = Hash;\nasync function pbkdf2Sync(password, salt, iterations, ...args) {\n  const passwordKey = await crypto.subtle.importKey(\"raw\", password, {\n    name: \"PBKDF2\"\n  }, false, [\"deriveBits\"]);\n  return buffer_1.Buffer.from(await crypto.subtle.deriveBits({\n    name: \"PBKDF2\",\n    hash: \"SHA-512\",\n    salt,\n    iterations\n  }, passwordKey, 512));\n}\nexports.pbkdf2Sync = pbkdf2Sync;\nfunction createHash(algorithm) {\n  return new Hash(algorithm);\n}\nexports.createHash = createHash;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","createHash","pbkdf2Sync","Hash","randomBytes","createCipheriv","createDecipheriv","CTR","Counter","buffer_1","require","aes_1","converters_1","words_1","constructor","initialValue","_counter","Buffer","from","increment","i","key","counter","_remainingCounter","undefined","_remainingCounterIndex","_aes","default","getWords","update","plainText","encrypt","encrypted","length","i2ab","ab2i","algorithm","iv","includes","Error","count","bytes","Uint8Array","crypto","getRandomValues","data","digest","self","subtle","alloc","password","salt","iterations","args","passwordKey","importKey","name","deriveBits","hash"],"sources":["C:/Users/Muhammed/Desktop/REACT_JS/dene-gramjs/node_modules/telegram/crypto/crypto.js"],"sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createHash = exports.pbkdf2Sync = exports.Hash = exports.randomBytes = exports.createCipheriv = exports.createDecipheriv = exports.CTR = exports.Counter = void 0;\r\nconst buffer_1 = require(\"buffer/\");\r\nconst aes_1 = __importDefault(require(\"@cryptography/aes\"));\r\nconst converters_1 = require(\"./converters\");\r\nconst words_1 = require(\"./words\");\r\nclass Counter {\r\n    constructor(initialValue) {\r\n        this._counter = buffer_1.Buffer.from(initialValue);\r\n    }\r\n    increment() {\r\n        for (let i = 15; i >= 0; i--) {\r\n            if (this._counter[i] === 255) {\r\n                this._counter[i] = 0;\r\n            }\r\n            else {\r\n                this._counter[i]++;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Counter = Counter;\r\nclass CTR {\r\n    constructor(key, counter) {\r\n        if (!(counter instanceof Counter)) {\r\n            counter = new Counter(counter);\r\n        }\r\n        this._counter = counter;\r\n        this._remainingCounter = undefined;\r\n        this._remainingCounterIndex = 16;\r\n        this._aes = new aes_1.default((0, words_1.getWords)(key));\r\n    }\r\n    update(plainText) {\r\n        return this.encrypt(plainText);\r\n    }\r\n    encrypt(plainText) {\r\n        const encrypted = buffer_1.Buffer.from(plainText);\r\n        for (let i = 0; i < encrypted.length; i++) {\r\n            if (this._remainingCounterIndex === 16) {\r\n                this._remainingCounter = buffer_1.Buffer.from((0, converters_1.i2ab)(this._aes.encrypt((0, converters_1.ab2i)(this._counter._counter))));\r\n                this._remainingCounterIndex = 0;\r\n                this._counter.increment();\r\n            }\r\n            if (this._remainingCounter) {\r\n                encrypted[i] ^=\r\n                    this._remainingCounter[this._remainingCounterIndex++];\r\n            }\r\n        }\r\n        return encrypted;\r\n    }\r\n}\r\nexports.CTR = CTR;\r\n// endregion\r\nfunction createDecipheriv(algorithm, key, iv) {\r\n    if (algorithm.includes(\"ECB\")) {\r\n        throw new Error(\"Not supported\");\r\n    }\r\n    else {\r\n        return new CTR(key, iv);\r\n    }\r\n}\r\nexports.createDecipheriv = createDecipheriv;\r\nfunction createCipheriv(algorithm, key, iv) {\r\n    if (algorithm.includes(\"ECB\")) {\r\n        throw new Error(\"Not supported\");\r\n    }\r\n    else {\r\n        return new CTR(key, iv);\r\n    }\r\n}\r\nexports.createCipheriv = createCipheriv;\r\nfunction randomBytes(count) {\r\n    const bytes = new Uint8Array(count);\r\n    crypto.getRandomValues(bytes);\r\n    return bytes;\r\n}\r\nexports.randomBytes = randomBytes;\r\nclass Hash {\r\n    constructor(algorithm) {\r\n        this.algorithm = algorithm;\r\n    }\r\n    update(data) {\r\n        //We shouldn't be needing new Uint8Array but it doesn't\r\n        //work without it\r\n        this.data = new Uint8Array(data);\r\n    }\r\n    async digest() {\r\n        if (this.data) {\r\n            if (this.algorithm === \"sha1\") {\r\n                return buffer_1.Buffer.from(await self.crypto.subtle.digest(\"SHA-1\", this.data));\r\n            }\r\n            else if (this.algorithm === \"sha256\") {\r\n                return buffer_1.Buffer.from(await self.crypto.subtle.digest(\"SHA-256\", this.data));\r\n            }\r\n        }\r\n        return buffer_1.Buffer.alloc(0);\r\n    }\r\n}\r\nexports.Hash = Hash;\r\nasync function pbkdf2Sync(password, salt, iterations, ...args) {\r\n    const passwordKey = await crypto.subtle.importKey(\"raw\", password, { name: \"PBKDF2\" }, false, [\"deriveBits\"]);\r\n    return buffer_1.Buffer.from(await crypto.subtle.deriveBits({\r\n        name: \"PBKDF2\",\r\n        hash: \"SHA-512\",\r\n        salt,\r\n        iterations,\r\n    }, passwordKey, 512));\r\n}\r\nexports.pbkdf2Sync = pbkdf2Sync;\r\nfunction createHash(algorithm) {\r\n    return new Hash(algorithm);\r\n}\r\nexports.createHash = createHash;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}